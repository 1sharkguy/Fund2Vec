(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[78511],{51368:function(e,n,r){"use strict";r.d(n,{$:function(){return f},O:function(){return y}});var t=r(57175),a=r(68886),s=r(41324),i=r(82845),o=r(9747),d=r(33726),l=r.n(d),c=r(65471),m=r(78852),u=r(70540),$=r(91291),p=r(96616),h=r(5852),v=r(86706),g=r(14323),N="";N=new URLSearchParams(window.location.search).get("referrer");var x=l().create({baseURL:"https://groww.in",headers:{Authorization:(0,s.$l)(),"X-USER-CAMPAIGN":(0,s.nB)(),"X-PLATFORM":"web","X-APP-ID":"growwWeb","X-API-KEY":N,"X-IP-ADDRESS":"199.120.12.12"},paramsSerializer:function(e){return c.stringify(e,{arrayFormat:"comma"})}});function f(e){var n,r,d,l,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c?(n=e,new Promise(function(e,r){x.post("/onix/api/v2/auth/validate/pin",n).then(function(n){var r,t=null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.response;e({data:{data:(0,o.Z)((0,i.Z)({},t),{isSuccess:!0})}})}).catch(function(e){var n,t,a,s=null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data;r({response:{data:{errorMessage:{message:(null==s?void 0:s.message)||(null==s?void 0:null===(t=s.error)||void 0===t?void 0:t.errorMessage)}},status:(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.status)||400}})})})):t.be.post("/v1/api/user/v2/auth/pin/validate",e,{headers:{"X-USER-NKEY":(d=(r=(0,a.createUser)()).getSeed(),l=(0,a.encode)(d),(0,s._v)(l),r.getPublicKey())}})}function y(e){return t.be.post("/v1/api/user/v1/auth/pin/validate_auth_id",e)}x.interceptors.request.use(function(e){var n=(0,s.vE)();(0,p.a)(n)||(e.headers["X-DEVICE-ID"]=n),e.headers.Authorization=(0,s.$l)(),e.headers["X-USER-CAMPAIGN"]=(0,s.$l)();var r="",t="";if((0,g.b)(e.data)&&(r=JSON.stringify(e.data)),(0,g.b)(e.params)){var a=c.stringify(e.params,{arrayFormat:"comma",encode:!1});t=a?"?"+a:""}var i=(0,m.Z)();return e.headers["X-REQUEST-CHECKSUM"]=(0,$.G)(decodeURIComponent(e.url)+t,r,i,!1),e.headers["X-REQUEST-ID"]=i,e},function(e){return Promise.reject(e)}),x.interceptors.response.use(function(e){return e},function(e){return void 0!==e.response&&401===e.response.status&&(u.B$(u.wD.LOCAL_COOKIE_STORAGE),(0,v.Jk)(),window.location.href="https://groww.in"+h.Z6.ONIX+h.Z6.LOGIN),void 0!==e.response&&403===e.response.status&&((0,v.Jk)(),(0,s.ZB)(),window.location.href="https://groww.in"+h.Z6.LOGIN+h.Z6.TWO_FACTOR_AUTH_ENTER),Promise.reject(e)})},78511:function(e,n,r){"use strict";r.d(n,{Z:function(){return eC}});var t=r(92510),a=r(95921),s=r(82845),i=r(9747),o=r(69977),d=r(43812),l=r(30567),c=r(52406),m=r(22920),u=r(4979),$=r(89105),p=r.n($),h=r(96004),v=r.n(h),g=r(98148),N=r(56539),x=r(65471),f=r(81658),y=r(12108),E=r(32992),A=r(79145),S=r(40780),b=r(59919),R=r(51368),M=r(59140),T=r(96616),j=r(45211),I=r(19729),D=r.n(I),w=r(39621),C=r.n(w),B=r(5747),U=r(39582),L=r(58532),_=r(53601),O=r(66241),k=r(61233),P=r(48e3),Z=r(30497),F=r(15330),V=r(33432),H=r(74466),W=r(4658),G=r(18337),K=r(150),X=r.n(K),z=r(37331),J=r.n(z),Y=r(47393),q=r(34491),Q=r(9563),ee=r(22739),en=r(52896),er=r(50705),et=r(54897),ea=r(36739),es=r(3882),ei=function(e){var n=Number(e.redeemAmount),r=Number(e.maxRedeemAmount),t=Number(e.minRedeemAmount),a=Number(e.redeemUnits),s=Number(e.maxRedeemUnits),i=Number(e.minRedeemUnits),o=Number(e.redeemMultiplier),d=e.redeemBy,l=e.isElss,c=null;return e.isRedeemAll?0===r&&d===f.D0N.AMOUNT?c="You cannot redeem all since redeemable amount is 0":0===s&&d===f.D0N.UNITS&&(c="You cannot redeem all since redeemable units is 0"):d===f.D0N.AMOUNT?l&&n>r?c="You cannot redeem more than ₹"+r+" due to scheme lock in period":n<=0?c="Amount should be more than ₹0":n<t?c="The minimum withdrawal amount is ₹"+t:n>r?c="The maximum withdrawal amount is ₹"+r:o&&n%o!=0&&(c="Amount should be multiple of ₹"+o):d===f.D0N.UNITS&&(l&&a>s?c="You cannot redeem more than "+s+" units due to scheme lock in period":a<=0?c="Units should be more than 0":a<i?c="The minimum withdrawal unit is "+i:a>s&&(c="The maximum withdrawal unit is "+s)),c};r(95833);var eo=function(e){(0,a.Z)(r,e);var n=(0,d.Z)(r);function r(){var e;return(0,t.Z)(this,r),e=n.apply(this,arguments),e.state={redeemBy:e.props.redeemBy,amountInput:e.props.redeemAmount,unitsInput:e.props.redeemUnits,isRedeemAll:e.props.redeemAll,errorMessage:"",isInactiveUser:!1,warningMessage:"",isKraStatusNotAllowed:!1,isAadhaarPanLinked:!1},e.getEnterAmountAndUnitSectionUI=function(){var n=e.state,r=n.errorMessage,t=n.amountInput,a=n.redeemBy,s=n.unitsInput,i=n.isRedeemAll,o=e.props.redemptionDetails,d=null!=o?o:{},c=d.min_redeemable,m=d.min_redeemable_units;return(0,l.jsxs)("div",{className:"valign-wrapper rip89AmountDiv",children:[(0,l.jsxs)("div",{className:"rip89SideText bodyBase valign-wrapper",children:["Enter\xa0",(0,l.jsxs)("div",{className:"valign-wrapper contentAccent cur-po",onClick:e.onRedeemByClick,children:[(0,l.jsx)("span",{children:a===f.D0N.AMOUNT?"Amount":"Units"}),(0,l.jsx)(X(),{size:18,className:"bodyXLarge"})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)(ee.N,{id:"rip89Amount",variant:r?"error":i?"disabled":"default",onChange:e.handleAmountInput,onKeyDown:e.onAmountEnterKeyDown,value:a===f.D0N.AMOUNT?t||0:s||0,PrefixComponent:function(){return(0,l.jsx)("span",{className:"bodyLarge",children:a===f.D0N.AMOUNT&&H.o.INR})},placeholder:a===f.D0N.AMOUNT?(null!=c?c:0).toString():(null!=m?m:0).toString(),min:0})})]})},e.getRedeemAllBox=function(){return(0,l.jsx)("div",{className:"rip89CheckAll",children:(0,l.jsx)(en.C,{label:(0,l.jsx)("span",{className:"contentAccent",children:"Redeem All"}),handleOnClick:e.onRedeemAllClick,isChecked:e.state.isRedeemAll})})},e.getTotalRedeemAmountAndUnitUI=function(){var n=e.state.redeemBy,r=e.props.redemptionDetails,t=null!=r?r:{},a=t.redeemable_amount,s=t.units,i=t.instant_redeemable_amt,o=t.instant_redeemable_units,d=null!=i?i:0,c=o,m=[];return n===f.D0N.AMOUNT?(d&&m.push({label:"Instant Redeemable",value:"".concat(H.o.INR).concat(e.getNumberValue(d,2))}),m.push({label:"Total Redeemable (approx.)",value:"".concat(H.o.INR).concat(e.getNumberValue(null!=a?a:0,2))})):n===f.D0N.UNITS&&(c&&m.push({label:"Instant Redeemable",value:e.getNumberValue(c,3)}),m.push({label:"Total Redeemable Units",value:e.getNumberValue(s,3)})),(0,l.jsx)("div",{className:"rip89InfoBox",children:Array.isArray(m)&&m.map(function(e,n){return(0,l.jsxs)("div",{className:"valign-wrapper rip89TotalDiv",children:[(0,l.jsx)("div",{className:"rip89SideText bodyBase",children:e.label}),(0,l.jsx)("div",{className:"bodyLargeHeavy",children:e.value})]},n)})})},e.getExpectedDateCompletionUI=function(){var n=e.props.redemptionDetails,r=null!=n?n:{},t=r.expected_completion_date,a=r.instant_redeemable_amt,s=r.instant_redeemable_units,i=r.instant_completion_date,o=t,d=e.getSettlementDayText(),c=(0,l.jsxs)("span",{children:["Expected completion in ",(0,l.jsx)("span",{className:"bodyBaseHeavy",children:d})]}),m=e.state,u=m.amountInput,$=m.redeemBy,p=m.unitsInput;if(a){var h=$===f.D0N.AMOUNT&&u&&Number(u)<=Number(a),v=$===f.D0N.UNITS&&p&&Number(p)<=Number(s);h?(c=(0,l.jsxs)("span",{children:["Instant completion by ",(0,l.jsx)("span",{className:"bodyBaseHeavy",children:"Today"})]}),o=i):v&&(c=(0,l.jsxs)("span",{children:["Instant completion by ",(0,l.jsx)("span",{className:"bodyBaseHeavy",children:"Today"})]}),o=i)}return(0,l.jsxs)("div",{className:"rip89ExpDate contentSecondary bodyBase",children:[c,(0,l.jsx)("br",{}),(0,l.jsxs)("div",{className:"absolute-center",children:[(0,l.jsxs)("div",{className:"bodyBaseHeavy",children:["(by ",(0,Y.b)(o),")"]}),(0,l.jsx)("div",{className:"rip89Icon",children:(0,l.jsx)(er.P,{content:e.getWorkingDayInfoUI(),direction:er.a.BOTTOM,children:(0,l.jsx)(J(),{size:18,className:"contentAccent bodyXLarge"})})})]})]})},e.getWorkingDayInfoUI=function(){var n=e.getSettlementDayText(),r=e.props.redemptionDetails,t=null==r?void 0:r.applicable_nav_date;return t&&(t=new Date(t)),(0,l.jsxs)("div",{className:"rip89WorkingInfoBox left-align contentSecondary",children:[(0,l.jsxs)("div",{className:"contentPrimary center-align",style:{marginBottom:5},children:["AMC will transfer amount within ",n]}),(0,l.jsxs)("div",{children:["Date mentioned for the redeem amount transfer is:",(0,l.jsxs)("ul",{className:"rip89InfoUL",children:[t&&(0,l.jsxs)("li",{className:"rip89InfoLi",children:["Calculated from the applicable nav (",(0,Y.b)(t),")"]}),(0,l.jsx)("li",{className:"rip89InfoLi",children:"Exclusive of holidays and weekends"})]})]})]})},e.getRedeemButtonUI=function(){var n=e.props.btnLoader,r=e.state.isInactiveUser,t=e.getErrorMessage();return(0,l.jsxs)("div",{className:"pos-abs rip89BtnErrDiv",children:[t&&(0,l.jsx)("div",{className:"rip89ErrDiv center-align bodySmall",children:t}),(0,l.jsx)(et.B,{buttonText:r?"REACTIVATE ACCOUNT":"REDEEM",isFullWidth:!0,onClick:r?e.redirectToInactiveTraderFlow:e.handleRedeemClick,isLoading:n})]})},e.getSettlementDayText=function(){var n=e.props.redemptionDetails,r=null==n?void 0:n.settlement_type,t=3;r&&(t=Number(r.substr(r.length-1)));var a="".concat(t," working days");return 2>Number(t)&&(a="".concat(t," working day")),a},e.getErrorMessage=function(){var n=e.state,r=n.errorMessage,t=n.isInactiveUser,a=e.props.apiErrorMsg;return t?N.mA.INACTIVE_USER:r||a||null},e.handleAmountInput=function(n){var r=e.state.redeemBy,t=e.props,a=t.redemptionDetails,o=t.clearApiErrorMsg;n.target.value=Number(n.target.value).toString();var d=n.target.value,l=null==a?void 0:a.current_nav,c=Number(d),m=e.state,u=m.amountInput,$=m.unitsInput;r===f.D0N.UNITS?($=c,u=l*c,u=(0,q.a)(u,(0,i.Z)((0,s.Z)({},Q.e),{toFixedValue:0}))):r===f.D0N.AMOUNT&&(u=c,$=c/l,$=(0,q.a)($,(0,i.Z)((0,s.Z)({},Q.e),{toFixedValue:3}))),e.setState({amountInput:u,unitsInput:$,errorMessage:""}),o()},e.onAmountEnterKeyDown=function(e){var n=e.key,r=/[0-9]/.test(n);["ArrowLeft","ArrowRight","Backspace","Delete","."].includes(n)||r||e.preventDefault()},e.onRedeemByClick=function(){var n=e.props.clearApiErrorMsg;e.setState(function(e){return{redeemBy:e.redeemBy===f.D0N.AMOUNT?f.D0N.UNITS:f.D0N.AMOUNT,errorMessage:""}}),n()},e.onRedeemAllClick=function(){var n=e.props,r=n.redemptionDetails,t=n.clearApiErrorMsg;e.setState(function(e){return{isRedeemAll:!e.isRedeemAll,errorMessage:""}},function(){t(),e.state.isRedeemAll&&e.setState({amountInput:e.getNumberValue(null==r?void 0:r.redeemable_amount,2),unitsInput:e.getNumberValue(null==r?void 0:r.units,3)})})},e.checkWarningMessage=function(){var n=e.props.redemptionDetails,r=e.state.amountInput,t=null==n?void 0:n.redeemable_amount,a=null;(Math.floor(.9*t)<=Number(r)||Number(r)>=5e4)&&(a="For instant redeem, amount should be less than or equal to 50,000 or 90% of available balance whichever is less"),e.setState({warningMessage:a})},e.handleRedeemClick=function(){var n=e.state,r=n.amountInput,t=n.unitsInput,a=n.redeemBy,s=n.isRedeemAll,i=n.isKraStatusNotAllowed,o=n.isAadhaarPanLinked,d=e.props,l=d.redemptionDetails,c=d.clearApiErrorMsg,m=d.exitLoad,u=null!=l?l:{},$=u.redeemable_amount,p=u.min_redeemable,h=u.min_redeemable_units,v=u.units,x=u.redeem_multiplier,y=u.sub_category,E=u.groww_scheme_code,A=e.getNumberValue($,2),R=e.getNumberValue(p,2),M=e.getNumberValue(h,3),T=e.getNumberValue(v,3);(0,g.L9)(b.Z.MyInvestments,S.Z.ValidateRedeemClicked),(0,g.L9)(b.Z.MyInvestments,S.Z.RedeemClick,{growwSchemeCode:E});var j={redeemAmount:Number(r),redeemUnits:Number(t),maxRedeemAmount:A,minRedeemUnits:M,maxRedeemUnits:T,minRedeemAmount:R,redeemBy:a,isElss:"ELSS"===y,isRedeemAll:s,redeemMultiplier:null!=x?x:1},I=ei(j);if(I){e.setState({errorMessage:I}),c();return}if(!o){(0,g.L9)(b.Z.ProductCheckout,k.Z.MfAPLinkingNotDone,{orderType:f.i33.REDEEM}),e.props.history.push((0,P.bK)());return}if(i){ea.c.error({title:N.mA.KYC_ERROR_REMARK,hideAfter:10}),c();return}m({redeemAmount:Number(r),redeemUnits:Number(t),redeemBy:a,redeemAll:s})},e.checkForInactiveUser=function(){var n=e.props,r=n.mfRemoteConfig,t=n.hoistValue[W.e.MF_KRA_VERIFICATION_CONFIG_WEB],a=(null!=r?r:{}).mfBlockKycPendingOrders;(0,es.tO)(!0).then(function(n){var r,s,i=(null!==(s=null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.data)&&void 0!==s?s:{}).user,o=null!=i?i:{},d=o.aof_status,l=o.user_kra_status,c=o.kyc_status,m=o.is_aadhaar_pan_linked,u=(0,y.yr)(t,l,f.bQV.REDEEM),$=c!==f.Vx8.VERIFIED;d===f.Vb$.INACTIVE&&e.setState({isInactiveUser:!0}),e.setState({isKraStatusNotAllowed:a&&($||u)}),e.setState({isAadhaarPanLinked:m})}).catch(function(e){console.error("Error Message",e)})},e.redirectToInactiveTraderFlow=function(){e.props.history.push((0,P.RT)())},e.getNumberValue=function(e,n){return Number(Number(e).toFixed(n))},e}var o=r.prototype;return o.componentDidMount=function(){(0,O.Hk)()&&this.checkForInactiveUser()},o.componentDidUpdate=function(e){var n,r,t=this.props,a=t.redemptionDetails,s=t.isHoistLoading,i=(null!=a?a:{}).groww_scheme_code,o=null!==(r=null===(n=e.redemptionDetails)||void 0===n?void 0:n.groww_scheme_code)&&void 0!==r?r:null;s!==e.isHoistLoading&&(0,O.Hk)()&&this.checkForInactiveUser(),o!==i&&this.setState({redeemBy:e.redeemBy,amountInput:e.redeemAmount,unitsInput:e.redeemUnits,isRedeemAll:e.redeemAll,errorMessage:""})},o.render=function(){return(0,l.jsx)(V.Z,{children:(0,l.jsxs)("div",{children:[this.getEnterAmountAndUnitSectionUI(),this.getRedeemAllBox(),this.getTotalRedeemAmountAndUnitUI(),this.getExpectedDateCompletionUI(),this.getRedeemButtonUI()]})})},r}(c.PureComponent),ed=function(){return(0,u.zB)({mfRemoteConfig:(0,_.aF)("mf"),featureConfig:(0,_.UC)()})},el=(0,G.z4)(eo,[{hoistKey:W.e.MF_KRA_VERIFICATION_CONFIG_WEB,defaultValue:f.e6z}]),ec=(0,Z.I)((0,m.$j)(ed,{})(el)),em=r(69744),eu=r(17579),e$=r.n(eu),ep=r(9275),eh=r(80672),ev=r(90507);r(30188);var eg={src:"//assets-netstorage.groww.in/web-assets/billion_groww_desktop/prod/_next/static/media/amcFallback.8519100a.svg",height:512,width:512},eN=function(e){(0,a.Z)(r,e);var n=(0,d.Z)(r);function r(){var e;return(0,t.Z)(this,r),e=n.apply(this,arguments),e.getMfImage=function(){var n=e.props.redemptionDetails,r=null==n?void 0:n.scheme_name,t=(0,y.Eh)(r);return(0,l.jsx)("div",{className:"rcd89Cirlce borderPrimary",children:(0,l.jsx)(eh.Z,{height:22,width:22,src:"https://groww.in/images/partners/"+t,alt:r,handleBrokenImage:eg})})},e.getRedeemInfoUI=function(){var n=e.props,r=n.redemptionDetails,t=n.redeemAmount,a=n.redeemUnits,s=n.redeemBy,i=n.exitLoad,o=null==i?void 0:i.exitLoad;return(0,l.jsxs)("div",{className:"contentSecondary rcd89InfoBox bodyBase",children:[s===f.D0N.AMOUNT&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"contentPrimary bodyLargeHeavy",children:(0,q.a)(t,Q.h)}),"\xa0\xa0",(0,l.jsxs)("span",{children:["(",(0,q.a)(a)," Units approx.)"]})]}),s===f.D0N.UNITS&&(0,l.jsxs)("div",{children:[(0,l.jsxs)("span",{className:"bodyLargeHeavy",children:[(0,q.a)(a)," Units"]}),"\xa0",(0,l.jsxs)("span",{children:["(",(0,q.a)(t,Q.h)," approx.)"]})]}),(0,l.jsxs)("div",{className:"bodyBase",style:{marginTop:12},children:["Applicable NAV Date: ",(0,Y.b)(null==r?void 0:r.applicable_nav_date)]}),(0,l.jsxs)("div",{className:"valign-wrapper bodyBase",style:{marginTop:8},children:[(0,l.jsxs)("div",{children:["Approx. Exit Load: ",(0,q.a)(o,Q.h)]}),(0,l.jsx)("div",{className:"rcd89Icon",children:(0,l.jsx)(er.P,{content:e.getExitLoadPopoverContent(),direction:er.a.BOTTOM,children:(0,l.jsx)(J(),{size:18,className:"contentAccent bodyXLarge"})})})]})]})},e.getExitLoadPopoverContent=function(){return(0,l.jsxs)("div",{className:"rcd89ExitLoadContent left-align contentSecondary",children:[(0,l.jsx)("div",{className:"contentPrimary center-align",style:{marginBottom:5},children:"Exit Load"}),"Calculated exit load shown may be slightly different from the actual one applicable, which is the one prevailing at the time of your purchase."]})},e.getNeedHelpUI=function(){return(0,l.jsxs)(em.Z,{target:"_blank",url:(0,ev.gN)(),className:"flex contentPrimary",style:{paddingTop:10},children:[(0,l.jsx)(e$(),{size:20,className:"cur-po"}),(0,l.jsx)("span",{className:"cur-po bodySmallHeavy",style:{marginLeft:4,borderBottom:"1px dashed"},children:f.Bu7.HELP_BANK_CHANGE})]})},e.getShowRedeemUI=function(n){return n&&(0,l.jsxs)("div",{className:"backgroundTertiary bodySmall contentSecondary rcd89ShowRedeemInfo",children:[(0,l.jsx)("div",{children:n.message}),e.getNeedHelpUI()]})},e.getRedeemDestinationUI=function(){var n,r=e.props,t=r.redemptionDetails,a=r.redeemType,s=r.handleRedeemType,i=t||{},o=i.supported_redeem_types,d=i.bank_details,c=i.redeem_click_popup_id,m=i.popup_message_details,u=null!=o?o:[f.n0o.BANK],$=d&&d.bank_name?d:{},p=(null==$?void 0:$.bank_acc_no)?(0,j.g)(null==$?void 0:$.bank_acc_no,0,(null==$?void 0:null===(n=$.bank_acc_no)||void 0===n?void 0:n.length)-4):null,h=[];if((0,T.a)(c)||(h=m.filter(function(e){return c===e.id})),Array.isArray(u)&&u.length>1){var v=e.getRedeemTypeOptions(u,$);return(0,l.jsxs)("div",{className:"rcd89TransferBox",children:[(0,l.jsx)("div",{className:"contentSecondary bodyBaseHeavy",children:"Transfer Amount To"}),(0,l.jsx)("div",{className:"rcd89TransferOptBox",children:(0,l.jsx)(ep.R,{radioButtons:v,selected:a,onSelect:s})})]})}return u[0]===f.n0o.BANK||u[0]===f.n0o.INSTANT?(null==$?void 0:$.bank_name)?(0,l.jsxs)("div",{className:"rcd89TransferBox",children:[(0,l.jsx)("div",{className:"contentSecondary bodyBaseHeavy",children:"Amount will be transferred to your bank"}),(0,l.jsxs)("div",{className:"flex bodyBase rcd89BankSpace",children:[(0,l.jsxs)("div",{children:[$.bank_name,"\xa0"]}),p&&(0,l.jsxs)("div",{className:"rcd89OptionSubText bodyLarge",children:["(",p,")"]})]}),e.getShowRedeemUI(h[0])]}):(0,l.jsx)("div",{className:"rcd89TransferBox",children:(0,l.jsxs)("div",{className:"rcd89AmtTrans bodyBaseHeavy",children:["The Amount will be transferred to your bank account linked to this folio.",e.getShowRedeemUI(h[0])]})}):u[0]===f.n0o.GROWW_BALANCE?(0,l.jsxs)("div",{className:"rcd89TransferBox",children:[(0,l.jsx)("div",{className:"contentSecondary bodyBaseHeavy",children:"Amount will be transferred to"}),(0,l.jsx)("div",{className:"rcdBankSpace bodyBase",children:"Groww Balance"}),(0,l.jsx)("div",{className:"contentSecondary rcdBankSubSpace bodyBase",style:{marginTop:14},children:"You can use this amount later to invest again"})]}):(0,l.jsx)("div",{})},e.getContinueBtn=function(){var n=e.props.handleRedeemConfirm;return(0,l.jsx)("div",{className:"pos-abs rcd89BtnErrDiv",children:(0,l.jsx)(et.B,{buttonText:"CONTINUE",isFullWidth:!0,onClick:n})})},e.getRedeemTypeOptions=function(n,r){var t=[],a=e.props.redemptionDetails;if(n.includes(f.n0o.GROWW_BALANCE)&&t.push({label:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"bodyBase",children:"Groww Balance"})}),value:f.n0o.GROWW_BALANCE,parentClassName:"rcd89Radio"}),n.includes(f.n0o.BANK)||n.includes(f.n0o.INSTANT)){if(r){var s,i=(0,j.h)(null==r?void 0:r.bank_acc_no,0,(null==r?void 0:null===(s=r.bank_acc_no)||void 0===s?void 0:s.length)-8);t.push({label:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"valign-wrapper",children:[(0,l.jsxs)("div",{className:"rcd89BankName truncate bodyBase",children:[r.bank_name,"\xa0"]}),(0,l.jsxs)("div",{className:"contentSecondary rcd89OptionSubText bodyBase",children:["(",(0,j.g)(i,0,(null==i?void 0:i.length)-4),")"]})]}),(0,l.jsxs)("div",{className:"rcd89BankAttr valign-wrapper bodySmall",children:[(null==r?void 0:r.ifsc_code)&&(0,l.jsxs)("span",{children:["IFSC: ",null==r?void 0:r.ifsc_code]}),(null==r?void 0:r.ifsc_code)&&(null==r?void 0:r.as_on_date)&&(0,l.jsx)("div",{className:"rcd89Dot"}),(null==r?void 0:r.as_on_date)&&(0,l.jsxs)("span",{children:["\xa0(Linked on ",(0,Y.b)(null==r?void 0:r.as_on_date),")"]})]}),(null==a?void 0:a.remark)&&(0,l.jsx)("div",{className:"rcd89BankAttr rcd89Remark bodySmall",children:null==a?void 0:a.remark})]}),value:n.includes(f.n0o.INSTANT)?f.n0o.INSTANT:f.n0o.BANK,parentClassName:"rcd89Radio"})}else t.push({label:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"bodyBase",children:"Redeem To Bank"}),(0,l.jsx)("div",{className:"contentSecondary rcd89OptionSubText bodySmall",children:"Your bank account linked to this folio"})]}),value:n.includes(f.n0o.INSTANT)?f.n0o.INSTANT:f.n0o.BANK})}return t},e}return r.prototype.render=function(){var e=this.props.redemptionDetails,n=null==e?void 0:e.scheme_name;return(0,l.jsx)(V.Z,{children:(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:"rcd89RedeemBox",children:[(0,l.jsxs)("div",{className:"rcd89SchemeBox valign-wrapper",children:[(0,l.jsx)("div",{children:this.getMfImage()}),(0,l.jsx)("div",{className:"rcd89SchemeName bodyBase",children:(0,l.jsx)("div",{className:"truncate",children:n})})]}),this.getRedeemInfoUI(),this.getRedeemDestinationUI(),this.getContinueBtn()]})})})},r}(c.PureComponent),ex=r(56883),ef=r(16532);r(33720);var ey=function(e){(0,a.Z)(r,e);var n=(0,d.Z)(r);function r(){var e;return(0,t.Z)(this,r),e=n.apply(this,arguments),e.state={pinValue:""},e.getMfImage=function(){var n=e.props.redemptionDetails,r=(null!=n?n:{}).scheme_name,t=(0,y.Eh)(r);return(0,l.jsx)("div",{className:"rtf89Cirlce borderPrimary",children:(0,l.jsx)(eh.Z,{height:22,width:22,src:"https://groww.in/images/partners/"+t,alt:r,handleBrokenImage:eg})})},e.getOTPSectionUI=function(){var n=e.props,r=n.btnLoader,t=n.clearApiErrorMsg;return(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"center-align rtf89OtpText bodyLarge",children:"Authorise Groww to place your redeem request with the fund house"}),(0,l.jsx)(ef.Z,{_target:f.cG7.DESKTOP,autofocus:!0,completeOtpEntered:e.setPinValue,onOtpChange:t,size:4,confidential:!0,loader:r},"redeemTwoFaAuth")]})},e.getConfirmRedeemBtn=function(){var n=e.props,r=n.btnLoader,t=n.validatePin,a=n.apiErrorMsg,s=e.state.pinValue;return(0,l.jsxs)("div",{className:"pos-abs rtf89BtnErrDiv",children:[a&&(0,l.jsx)("div",{className:"rtf89ErrDiv bodySmall center-align",children:a}),(0,l.jsxs)("div",{className:"rtf89Tnc bodySmall",children:["By continuing, you agree to our\xa0",(0,l.jsx)(em.Z,{isCsr:!1,addAnchorClass:"bodySmall",target:"_blank",url:ex.gq.TERMS_AND_CONDITIONS,children:"Terms & Conditions"})]}),(0,l.jsx)(et.B,{buttonText:"CONFIRM REDEEM",isDisabled:!s,isFullWidth:!0,onClick:function(){t(s)},isLoading:r})]})},e.setPinValue=function(n){e.setState({pinValue:n})},e}return r.prototype.render=function(){var e=this.props.redemptionDetails,n=(null!=e?e:{}).scheme_name;return(0,l.jsx)(V.Z,{children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"rtf89SchemeBox valign-wrapper",children:[(0,l.jsx)("div",{children:this.getMfImage()}),(0,l.jsx)("div",{className:"rtf89SchemeName bodyBase",children:(0,l.jsx)("div",{className:"truncate",children:n})})]}),(0,l.jsxs)("div",{children:[this.getOTPSectionUI(),this.getConfirmRedeemBtn()]})]})})},r}(c.PureComponent),eE=r(2103),eA=function(){return(0,l.jsxs)(eE.ZP,{speed:2,width:340,height:390,viewBox:"0 0 340 390",backgroundColor:"var(--gray100)",foregroundColor:"var(--gray50)",children:[(0,l.jsx)("rect",{x:"20",y:"20",rx:"5",ry:"5",width:"108",height:"30"}),(0,l.jsx)("rect",{x:"220",y:"20",rx:"5",ry:"5",width:"100",height:"30"}),(0,l.jsx)("rect",{x:"20",y:"80",rx:"5",ry:"5",width:"108",height:"30"}),(0,l.jsx)("rect",{x:"220",y:"80",rx:"5",ry:"5",width:"100",height:"30"}),(0,l.jsx)("rect",{x:"20",y:"330",rx:"5",ry:"5",width:"300",height:"40"})]})},eS=c.memo(eA),eb=r(80201),eR=r.n(eb),e8=r(27710);r(34165);var eM=function(e){var n,r,t,a,s,i,o,d,c,m,u=e.orderStatus,$=e.mfSchemeName,p=e.redemptionDetails,h=e.redeemBy,v=e.redeemAmount,g=e.redeemUnits,N=e.apiErrorMsg,x=e.handleDoneClick,y=e.handleTryAgain,E=e.statusScreenAction,A=null!=E?E:{},S=A.note_text,b=A.groww_order_id,R=A.additional_action_required,M=A.additional_action_message,T=A.web_action_url,j=function(){u===f.dNd.SUCCESS?(x(),R&&T&&window.open(T)):y()};return(0,l.jsxs)("div",{className:"ros89Box flex flex-column vspace-between",children:[(0,l.jsxs)("div",{children:[(n=u,(0,l.jsx)("div",{className:"ros89LottieBox",children:(0,l.jsx)(e8.Z,{status:n,height:90,width:90})})),(t="",a="",(r=u)===f.dNd.SUCCESS?(t="Redeem Order Placed",a=""):r===f.dNd.PENDING?(t="Order Pending",a="We are experiencing some issue"):r===f.dNd.FAILED&&(t="Redeem Order Failed",a=N),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"ros89Title headingLarge",children:t}),(0,l.jsx)("div",{className:"contentSecondary bodyBase",children:a})]})),(i=(s=null!=p?p:{}).applicable_nav_date,o=s.expected_completion_date,(0,l.jsx)("div",{className:"ros89RedeemDetailsWrapper",children:(0,l.jsxs)("div",{className:"fsAuto bodyLarge ros89RedeemDetailsContainer",children:[(d=(0,q.a)(null!=v?v:0,Q.h),h===f.D0N.UNITS?(0,l.jsxs)("span",{className:"bodyXLarge",children:[g," Units"]}):(0,l.jsx)("span",{className:"bodyXLarge",children:d})),(0,l.jsx)("div",{className:"ros89Scheme bodyBase",children:$}),!S&&u===f.dNd.SUCCESS&&(0,l.jsxs)("div",{className:"valign-wrapper ros89DateBox bodyBase",children:[(0,l.jsxs)("div",{className:"left-align",children:[(0,l.jsx)("div",{children:"NAV Date"}),(0,l.jsx)("div",{className:"contentSecondary",children:(0,Y.b)(i)})]}),(0,l.jsxs)("div",{className:"right-align",children:[(0,l.jsx)("div",{children:"Expected completion by"}),(0,l.jsx)("div",{className:"contentSecondary",children:(0,Y.b)(o)})]})]}),M&&(0,l.jsx)("div",{className:"ros89AdditionalMessage backgroundWarningSubtle bodyBase",children:M}),S&&(0,l.jsx)("div",{className:"ros89NoteText backgroundWarningSubtle bodyBase",children:S})]})}))]}),(0,l.jsxs)("div",{className:"ros89BottomPart",children:[function(){if(u===f.dNd.SUCCESS){var e=(0,P.XZ)(b)+"?orderType="+f.bQV.REDEEM;return(0,l.jsx)(eR(),{href:e,children:(0,l.jsx)("div",{className:"contentAccent ros89OrdDetail bodyBaseHeavy cur-po",children:"Order Details"})})}return null}(),(c=u===f.dNd.SUCCESS,m="",m=c?R?"DECLARE NOMINEE":f.Bu7.SUCCESS_DESKTOP:f.Bu7.FAILED,(0,l.jsx)("div",{children:(0,l.jsx)(et.B,{buttonText:m,isFullWidth:!0,onClick:j,isLoading:!1})}))]})]})},eT=(0,c.memo)(eM);r(63809);var ej=0,eI=function(e){(0,a.Z)(r,e);var n=(0,d.Z)(r);function r(){var e;return(0,t.Z)(this,r),e=n.apply(this,arguments),e.isComponentMounted=!1,e.state={redemptionDetails:{},screenLoader:!0,screenError:!1,blurLoader:!1,btnLoader:!1,redeemAmount:null,redeemUnits:null,redeemBy:f.D0N.AMOUNT,redeemType:"",redeemAll:!1,currentScreen:f.McA.REDEEM_INPUT,redeemJourney:[],apiFailMsg:"",growwOrderId:"",apiErrorMsg:"",exitLoadResponse:{},preOrderResponse:{},statusScreenResponse:{},orderStatus:""},e.getBoxTitle=function(){var n=e.state.currentScreen;return(0,l.jsxs)("div",{className:"rdm89Title valign-wrapper bodyLargeHeavy",children:[(0,l.jsx)(D(),{size:22,className:"cur-po rdm89BackCta",onClick:e.handleBack}),(0,l.jsx)("span",{className:"rdm89TitleText",children:n===f.McA.REDEEM_OTP?"Verify using OTP":"Redeem"})]})},e.getMainUI=function(){var n=e.state,r=n.currentScreen,t=n.redemptionDetails,a=n.btnLoader,s=n.redeemAmount,i=n.redeemUnits,o=n.redeemBy,d=n.screenLoader,c=n.redeemType,m=n.apiErrorMsg,u=n.screenError,$=n.redeemAll,p=n.exitLoadResponse,h=e.props.growwSchemeCode,v=(null!=t?t:{}).redemption_allowed;if(d)return(0,l.jsx)(eS,{});if(u)return(0,l.jsx)(B.ZP,{defaultScreen:U.P.FAILED,overallHeight:350,imgHeight:200,imgWidth:200});if(!(null==v||v))return e.getRedeemNotAllowedUI();switch(r){case f.McA.REDEEM_INPUT:return(0,l.jsx)("div",{children:(0,l.jsx)(ec,{redemptionDetails:t,exitLoad:e.getExitLoadDetails,btnLoader:a,apiErrorMsg:m,clearApiErrorMsg:e.clearApiErrorMsg,redeemAmount:s,redeemUnits:i,redeemBy:o,redeemAll:$,growwSchemeCode:h})});case f.McA.REDEEM_CONFIRM:return(0,l.jsx)("div",{children:(0,l.jsx)(eN,{redemptionDetails:t,exitLoad:p,redeemAmount:s,redeemUnits:i,redeemType:c,redeemBy:o,handleRedeemConfirm:e.handleRedeemConfirm,handleRedeemType:e.handleRedeemType})});case f.McA.REDEEM_TWOFA:return(0,l.jsx)("div",{children:(0,l.jsx)(ey,{redemptionDetails:t,validatePin:e.validatePin,btnLoader:a,apiErrorMsg:m,clearApiErrorMsg:e.clearApiErrorMsg})});case f.McA.REDEEM_OTP:return(0,l.jsx)("div",{children:(0,l.jsx)(A.Z,{type:"REDEEM",otpDetailPayload:e.redempOtpApiPayload(),placeOrder:e.placeRedeemV2,clearApiErrorMsg:e.clearApiErrorMsg,btnLoader:a})});default:return(0,l.jsx)("div",{})}},e.getRedeemStatusScreen=function(){var n=e.state,r=n.orderStatus,t=n.redemptionDetails,a=n.redeemAmount,s=n.redeemUnits,i=n.redeemBy,o=n.apiErrorMsg,d=n.statusScreenResponse;return(0,l.jsx)(eT,{orderStatus:r,mfSchemeName:null==t?void 0:t.scheme_name,redeemBy:i,redeemUnits:s,redeemAmount:a,apiErrorMsg:o,handleDoneClick:e.props.handleBackClick,handleTryAgain:e.handleTryAgain,redemptionDetails:t,statusScreenAction:d})},e.getRedeemNotAllowedUI=function(){var n=e.props,r=n.redemptionConfig,t=n.schemeName,a=n.context,s=(null!=r?r:{}).remark,i=void 0===s?N.Jl.REDEEM_NOT_ALLOWED:s,o=e.state.redemptionDetails,d=(null!=o?o:{}).message,c=void 0===d?N.Jl.REDEEM_NOT_ALLOWED:d;return(0,l.jsxs)("div",{children:[a===f.ad_.INVESTMENT_PAGE&&(0,l.jsxs)("div",{className:"center-align rdm89NameBox truncate bodyBaseHeavy",title:t,children:[" ",t]}),(0,l.jsxs)("div",{className:"col l12 center-align contentPrimary rdm89AllLockedContainer",children:[(0,l.jsx)(C(),{size:70,className:"col l12 rdm89Lock"}),(0,l.jsxs)("div",{className:"col l12 rdm89LockedLabel bodyXLargeHeavy",children:[" ",N.Jl.REDEEM_TITLE," "]}),(0,l.jsxs)("div",{className:"col l12 bodyBase",children:[" ",i||c," "]})]})]})},e.redempOtpApiPayload=function(){var n,r=e.state,t=r.redeemAmount,a=r.redeemUnits,s=r.redeemAll,i=r.redeemBy,o=e.props;return{folio_no:o.folioNo,groww_scheme_code:o.growwSchemeCode,amount:t,units:a,all_redeem:s,redeem_by_units:i===f.D0N.UNITS}},e.getRedeemDetails=function(n,r){var t=e.props.redemptionConfig;if(!(null!=t?t:{}).isAllowed){e.setState({screenLoader:!1,blurLoader:!1,screenError:!0});return}(0,E._V)({folio_number:n,groww_scheme_code:r}).then(function(n){(0,g.L9)(b.Z.MyInvestments,S.Z.GetRedeemDetailsSuccess,{growwSchemeCode:r}),e.isComponentMounted&&e.setState({redemptionDetails:n.data,screenLoader:!1,blurLoader:!1,screenError:!1,currentScreen:f.McA.REDEEM_INPUT,redeemJourney:[f.McA.REDEEM_INPUT],apiErrorMsg:""})}).catch(function(n){(0,g.L9)(b.Z.MyInvestments,S.Z.GetRedeemDetailsFailed,{growwSchemeCode:r}),e.isComponentMounted&&e.setState({screenLoader:!1,blurLoader:!1,screenError:!0}),console.error("error",n)})},e.getExitLoadDetails=function(n){var r=Number(n.redeemUnits),t=Number(n.redeemAmount),a=n.redeemBy,s=n.redeemAll,i=e.props,d=i.folioNo,l=i.growwSchemeCode,c=e.state.redemptionDetails,m={by_units:a===f.D0N.UNITS,folio_number:d,redeem_value:a===f.D0N.UNITS?r:t,scheme_code:l};e.setState({btnLoader:!0,apiFailMsg:""}),(0,E.zS)(m).then(function(n){(0,g.L9)(b.Z.MyInvestments,S.Z.ValidateRedeemApiSuccess,{growwSchemeCode:l,redeemValue:m.redeem_value}),e.setState(function(e){var i,d;return{exitLoadResponse:n.data,redeemType:null!==(d=null==c?void 0:null===(i=c.supported_redeem_types)||void 0===i?void 0:i[0])&&void 0!==d?d:f.n0o.BANK,currentScreen:f.McA.REDEEM_CONFIRM,redeemJourney:(0,o.Z)(e.redeemJourney).concat([f.McA.REDEEM_CONFIRM]),btnLoader:!1,redeemAmount:t,redeemUnits:r,redeemBy:a,redeemAll:s}})}).catch(function(n){var r,t,a,s=(null==n?void 0:null===(r=n.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:null===(a=t.errorMessage)||void 0===a?void 0:a.message)||N.ap.GENERAL_ERROR;(0,g.L9)(b.Z.MyInvestments,S.Z.ValidateRedeemApiFailed,{growwSchemeCode:l,apiErrorMsg:s}),e.setState({btnLoader:!1,apiErrorMsg:s})})},e.onRedeemConfirmProceed=function(){(0,g.L9)(b.Z.MyInvestments,S.Z.RedeemConfirmClick);var n=(e.state.redemptionDetails||[]).redeem_auth_modes;switch(n.length&&n[0]){case f.nfQ.APP:e.setState(function(e){return{currentScreen:f.McA.REDEEM_TWOFA,redeemJourney:(0,o.Z)(e.redeemJourney).concat([f.McA.REDEEM_CONFIRM])}});break;case f.nfQ.EXCHANGE_OTP:e.setState(function(e){return{currentScreen:f.McA.REDEEM_TWOFA,redeemJourney:(0,o.Z)(e.redeemJourney).concat([f.McA.REDEEM_CONFIRM])}});break;case f.nfQ.GROWW_OTP:e.setState(function(e){return{currentScreen:f.McA.REDEEM_OTP,redeemJourney:(0,o.Z)(e.redeemJourney).concat([f.McA.REDEEM_CONFIRM])}});break;default:return}},e.handleRedeemConfirm=function(){var n=e.getRedeemOrderPayload(),r={action_type:f.Mtv.REDEEM,action_details:n};(0,E.mw)(r).then(function(r){var t=null==r?void 0:r.data,a=null!=t?t:{},s=a.url,i=a.checksum,o=a.additionalActionRequired,d=a.furtherActionBlocked,l=a.blockerMessageTitle,c=a.blockerMessageContents;if((0,g.L9)(b.Z.MyInvestments,k.Z.PreOrderRequest,{payload:n,apiResponse:r.data,apiStatus:f.c9B.SUCCESS}),o&&s){e.handleNomineeRedirectionFlow(s,i,n);return}if(!o&&d){e.redirectToNomineePendingScreen(l,c);return}e.setState({preOrderResponse:t},function(){return e.onRedeemConfirmProceed()})}).catch(function(n){var r,t,a,s=(null==n?void 0:null===(r=n.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:null===(a=t.errorMessage)||void 0===a?void 0:a.message)||N.ap.GENERAL_ERROR;(0,g.L9)(b.Z.MyInvestments,k.Z.PreOrderRequest,{apiResponse:s,apiStatus:f.c9B.FAILURE}),e.setState({btnLoader:!1,apiErrorMsg:s})})},e.handleNomineeRedirectionFlow=function(n,r,t){var a,o=e.props.history,d=e.state.redemptionDetails;if((0,T.i)(n)!==f.MLI){(0,y.zZ)(n,v());return}var l=null!=d?d:{},c=l.redeem_auth_modes,m=l.scheme_name,u=(null!==(a=(0,j.f)(m))&&void 0!==a?a:"").replace(/ /g,"_"),$=(0,i.Z)((0,s.Z)({},t),{schemeName:u,authType:null==c?void 0:c[0],source:f.Mtv.REDEEM}),p=(0,y.IX)(n);o.push({pathname:p,state:{checksum:r},search:x.stringify($)})},e.redirectToNomineePendingScreen=function(n,r){var t=e.props,a=t.setNomineeStatusScreenData,s=t.history;a({title:null!=n?n:F.Sy.UPDATE_SCREEN_TITLE,messageObject:r});var i={status:F.bz.UPDATE};s.push({pathname:(0,P.gn)(),search:x.stringify(i)})},e.handleRedeemType=function(n){e.setState({redeemType:n})},e.validatePin=function(n){e.setState({btnLoader:!0}),(0,R.O)({passCode:n}).then(function(n){var r,t;if(null==n?void 0:null===(r=n.data)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.isSuccess){(0,g.L9)(b.Z.MyInvestments,S.Z.RedeemTwoFASuccess);var a,s=null===(a=null==n?void 0:n.data.data)||void 0===a?void 0:a.sessionId;e.placeRedeemV2(s,f.nfQ.EXCHANGE_OTP)}}).catch(function(n){var r,t,a,s=null==n?void 0:null===(r=n.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:null===(a=t.errorMessage)||void 0===a?void 0:a.message;(0,g.L9)(b.Z.MyInvestments,S.Z.RedeemTwoFAFailed),e.setState({btnLoader:!1,apiErrorMsg:s||N.ap.GENERAL_ERROR})})},e.placeRedeemV2=function(n,r){var t=e.state.preOrderResponse,a=(void 0===t?{}:t).checksum,s=e.props.getPendingOrders,i=e.getRedeemOrderPayload();e.setState({btnLoader:!0}),(0,E.GO)(i,n,r,void 0===a?"":a).then(function(n){(0,g.L9)(b.Z.MyInvestments,S.Z.RedeemSuccess,{byPoll:!1});var r,t,a=null!==(t=null==n?void 0:null===(r=n.data)||void 0===r?void 0:r.responseBody)&&void 0!==t?t:{};e.setState({currentScreen:f.McA.REDEEM_STATUS,orderStatus:f.dNd.SUCCESS,statusScreenResponse:a,btnLoader:!1},function(){s&&s()})}).catch(function(n){e.setState({btnLoader:!1}),console.error(n),(0,g.L9)(b.Z.MyInvestments,S.Z.RedeemFailed,{polling:!0}),setTimeout(function(){ej+=1,e.redeemStatus()},3e3)})},e.getRedeemOrderPayload=function(){var n=e.state,r=n.redeemAmount,t=n.redeemUnits,a=n.redeemAll,s=n.redeemBy,i=n.redeemType,o=e.props,d=o.folioNo,l=o.growwSchemeCode;return s!==f.D0N.AMOUNT||a?{folioNumber:d,growwSchemeCode:l,amount:r,units:t,redeemAll:a,redeemByUnits:s===f.D0N.UNITS,redeemOrderType:i}:{folioNumber:d,growwSchemeCode:l,amount:r,redeemAll:!1,redeemOrderType:i,redeemByUnits:!1}},e.redeemStatus=function(){var n=e.props,r=n.folioNo,t=n.growwSchemeCode,a=n.getPendingOrders,s=e.state,i=s.redeemAmount,o=s.redeemUnits,d=s.redeemAll;(0,E.eL)({folio_number:r,growwSchemeCode:t,allRedeem:d,amount:i,units:o}).then(function(n){var r=n.data.orderList;if(Array.isArray(r)&&r.length>0){(0,g.L9)(b.Z.MyInvestments,S.Z.PollRedeemSuccess),(0,g.L9)(b.Z.MyInvestments,S.Z.RedeemSuccess,{byPoll:!0});var t=r[0];e.setState({currentScreen:f.McA.REDEEM_STATUS,orderStatus:f.dNd.SUCCESS,growwOrderId:t.growwOrderId,btnLoader:!1},function(){a&&a()})}else e.callRedeemPoll(N.ap.GENERAL_ERROR)}).catch(function(n){var r,t,a,s=null==n?void 0:null===(r=n.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:null===(a=t.errorMessage)||void 0===a?void 0:a.message;(0,g.L9)(b.Z.MyInvestments,S.Z.PollRedeemFailed),e.callRedeemPoll(s||N.ap.GENERAL_ERROR)})},e.callRedeemPoll=function(n){3===ej?e.setState({orderStatus:f.dNd.FAILED,currentScreen:f.McA.REDEEM_STATUS,apiErrorMsg:n,btnLoader:!1}):setTimeout(function(){ej+=1,e.redeemStatus()},3e3)},e.handleBack=function(){var n=(0,o.Z)(e.state.redeemJourney);n.pop(),0!==n.length?e.setState({redeemJourney:n,currentScreen:n[n.length-1],apiErrorMsg:""}):e.props.handleBackClick()},e.handleTryAgain=function(){var n=e.props,r=n.folioNo,t=n.growwSchemeCode;e.setState({currentScreen:f.McA.REDEEM_INPUT},function(){e.getRedeemDetails(r,t)})},e.clearApiErrorMsg=function(){e.setState({apiErrorMsg:""})},e}var c=r.prototype;return c.componentDidMount=function(){var e=this.props,n=e.folioNo,r=e.growwSchemeCode,t=e.featureConfig,a=e.setFeatureConfig;this.isComponentMounted=!0,(0,O.Hk)()&&(0,T.a)(t)&&a(),this.getRedeemDetails(n,r)},c.componentDidUpdate=function(e){var n=this,r=this.props,t=r.folioNo,a=void 0===t?"":t,s=r.growwSchemeCode;this.isComponentMounted&&(e.growwSchemeCode!==s||e.folioNo!==a)&&this.setState({redemptionDetails:{},screenLoader:!1,screenError:!1,blurLoader:!0,btnLoader:!1,redeemAmount:null,redeemUnits:null,redeemBy:f.D0N.AMOUNT,redeemType:"",redeemAll:!1,currentScreen:f.McA.REDEEM_INPUT,redeemJourney:[],apiFailMsg:"",growwOrderId:"",apiErrorMsg:"",exitLoadResponse:{},preOrderResponse:{},statusScreenResponse:{}},function(){n.getRedeemDetails(a,s)})},c.componentWillUnmount=function(){this.isComponentMounted=!1},c.render=function(){var e=this.state,n=e.currentScreen,r=e.blurLoader,t=this.props.redemptionConfig,a=(null!=t?t:{}).isAllowed,s=p()("card pos-rel rdm89Box borderPrimary",{rdm89BlurLoader:r});return(0,l.jsx)("div",{className:s,children:n===f.McA.REDEEM_STATUS?this.getRedeemStatusScreen():a?(0,l.jsxs)(l.Fragment,{children:[this.getBoxTitle(),this.getMainUI()]}):(0,l.jsxs)(l.Fragment,{children:[" ",this.getRedeemNotAllowedUI()," "]})})},r}(c.PureComponent),eD=function(){return(0,u.zB)({featureConfig:(0,_.UC)()})},ew={setFeatureConfig:L.bz,setNomineeStatusScreenData:M.lr},eC=(0,m.$j)(eD,ew)((0,Z.I)(eI))},30188:function(){},95833:function(){},34165:function(){},33720:function(){},63809:function(){}}]);