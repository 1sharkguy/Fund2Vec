(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67474],{51607:function(e,t,r){"use strict";var a=r(30567),i=r(52406),n=r(78629),c=r(34491),s=r(44549);t.Z=i.memo(function(e){var t=e.toFixedNumber,r=void 0===t?0:t,o=e.duration,l=e.value,d=e.decimals,$=e.currency,p=function(e){return $===s.Mf.DOLLAR?(0,c.g)(e.toFixed(r)):(0,c.a)(e,{toFixedValue:r})},u=(0,i.useRef)(0),h=(0,i.useState)(l),v=h[0],m=h[1];return(0,i.useEffect)(function(){l!==v&&(u.current=v,m(l))},[l]),(0,a.jsx)(n.ZP,{start:u.current,end:v,decimals:null!=d?d:2,duration:void 0===o?.5:o,useEasing:!0,formattingFn:p})})},44549:function(e,t,r){"use strict";r.d(t,{Mf:function(){return a},cG:function(){return i}});var a={RUPEE:"â‚¹",DOLLAR:"$"},i={MSITE:"msite",DESKTOP:"desktop",CHARTS:"charts"}},75544:function(e,t,r){"use strict";r.d(t,{S:function(){return a}});var a=function(e){for(var t=0,r=5;r>0;r--)if((null==e?void 0:e[r])&&0!==e[r].price){t=e[r].price;break}return t}},67474:function(e,t,r){"use strict";r.d(t,{Z:function(){return M}});var a=r(30567),i=r(52406),n=r(22920),c=r(47537),s=r(51607),o=r(40001),l=r.n(o),d=function(e){var t=e.marketPrice,r=e.code,n=e.isBse,c=e.isCompact,o=e.isChartsRender,d=(0,i.useState)({bid:0,offer:0}),$=d[0],p=d[1],u=c?l().compactBarSpacing:l().barSpacing,h=c?l().compactPositionBar:l().positionBar,v=c?"orders":"order quantity",m=o?"bodySmallHeavy":"bodyBase",f=o?"bodySmallHeavy":"bodyLargeHeavy";(0,i.useEffect)(function(){y()},[r,n,t]);var y=function(){if(t){var e,r,a,i,n=t.bidQty,c=t.offerQty,s=t.totalBuyQty,o=t.totalSellQty,l=null!=n?n:s,d=null!=c?c:o,u=(e=l,r=d,(e||r)&&(e||0===e)?e/(e+r)*100:$.bid),h=(a=l,i=d,(a||i)&&(i||0===i)?i/(a+i)*100:$.offer);p({bid:u,offer:h})}},k=function(){return(0,a.jsx)("div",{className:"valign-wrapper ".concat(h),children:(0,a.jsx)("div",{className:"".concat(l().progressBar," valign-wrapper width100"),children:(0,a.jsx)("div",{className:l().filledBar,style:{width:"".concat($.bid,"%")}})})})};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"valign-wrapper vspace-between ".concat(u),children:[(0,a.jsxs)("div",{className:m,children:["Buy ",v]}),(0,a.jsxs)("div",{className:m,children:["Sell ",v]})]}),(0,a.jsxs)("div",{className:"valign-wrapper vspace-between",children:[(0,a.jsx)("div",{className:"left-align ".concat(f),children:$.bid||0===$.bid?(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,{value:$.bid,toFixedNumber:2}),"%"]}):"NA"}),!c&&k(),(0,a.jsx)("div",{className:"right-align ".concat(f),children:$.offer||0===$.offer?(0,a.jsxs)("div",{children:[(0,a.jsx)(s.Z,{value:$.offer,toFixedNumber:2}),"%"]}):"NA"})]}),c&&k()]})},$=r(98148),p=r(45615),u=r(69559),h=r(96616),v=r(34491),m=r(9563),f={ASK:"Ask",BID:"Bid"},y={marginTop:80},k=r(2103),g=function(e){return(0,a.jsx)("rect",{x:"0",y:e,rx:"3",ry:"3",width:150,height:24})},D=function(){return(0,a.jsxs)(k.ZP,{speed:2,width:150,height:180,backgroundColor:"var(--gray100)",foregroundColor:"var(--gray50)",children:[(0,a.jsx)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:150,height:22}),g(31),g(63),g(94),g(125),g(156)]})},x=function(e){var t=(0,i.useState)({buyMaxWidth:500,sellMaxWidth:500}),r=t[0],n=t[1],c=e.marketPrice,s=e.marketDepth,o=e.isCompact,d=e.onClickPrice,y=e.code,k=e.isChartsRender,g=s.buyBook,x=s.sellBook,j=c.bidQty,b=c.offerQty,S=c.totalBuyQty,B=c.totalSellQty,N=o?l().marketDepthCompactWrapper:l().marketDepthWrapper,_=o?l().compactLeftDiv:l().leftDiv,U=o?l().compactRightDiv:l().rightDiv,w=o?"contentSecondary ".concat(l().compactSideHeadDiv):l().sideHeadingDiv,C=o?k?"bodySmallHeavy":"bodyBaseHeavy":"bodyLargeHeavy",I=o&&!k?"cur-po ".concat(l().curUline):"",P=o?k?"bodySmall":"bodyBase":"bodyLarge";(0,i.useEffect)(function(){return L()},[s]);var L=function(){if(g&&x){var e=1,t=1;Object.keys(g).map(function(t){g[t].qty>e&&(e=g[t].qty)}),Object.keys(x).map(function(e){x[e].qty>t&&(t=x[e].qty)}),n({buyMaxWidth:e,sellMaxWidth:t})}},M=function(e,t,r,i){return(0,a.jsxs)("div",{children:[(0,h.a)(t)?(0,a.jsx)(D,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"width100 center-align valign-wrapper vspace-between ".concat(P," ").concat(w),children:[(0,a.jsxs)("div",{className:"left-align",children:[e," Price"]}),(0,a.jsx)("div",{className:"right-align",children:"Qty"})]}),Object.keys(t).map(function(i){var n,c=null!==(n=t[i])&&void 0!==n?n:{},s=c.qty,h=c.price,k=s/r*100,g=e===f.BID,D=o?l().compactDepthUnit:l().depthUnit,x=function(){o&&d&&(d(h.toString()),(0,$.L9)(u.Z.Stocks,p.Z.MarketDepthPriceClick,{code:y}))};return(0,a.jsxs)("div",{className:"".concat(P," valign-wrapper vspace-between ").concat(D),children:[(0,a.jsx)("div",{className:"left-align ".concat(I),onClick:x,children:(0,v.a)(h)}),(0,a.jsx)("div",{className:"right-align ".concat(l().qtyWrapper),children:(0,a.jsx)("div",{className:l().qtydiv,style:{width:(k>100?100:k)+"%",backgroundColor:g?"var(--green100)":"var(--red100)",color:g?"var(--green500)":"var(--red500)"},children:(0,v.a)(s,m.i)})})]},i)})]}),(0,a.jsxs)("div",{className:"valign-wrapper vspace-between ".concat(C),style:{marginTop:12},children:[(0,a.jsx)("div",{children:"".concat(e," Total")}),(0,a.jsx)("div",{className:"right-align",children:(0,v.a)(i,{toFixedValue:0})})]})]})};return(0,a.jsxs)("div",{className:N,children:[(0,a.jsx)("div",{className:_,children:M(f.BID,g,r.buyMaxWidth,null!=j?j:S)}),(0,a.jsx)("div",{className:U,children:M(f.ASK,x,r.sellMaxWidth,null!=b?b:B)})]})},j=function(e){var t=e.marketPrice,r=null!=t?t:{},i=r.open,n=r.high,c=r.low,s=r.close,o=r.ltp,d=function(e,t){return(0,a.jsxs)("div",{className:"".concat(l().statsUnit," left-align bodyBase"),children:[(0,a.jsx)("div",{className:"bodyBaseHeavy",children:(0,v.a)(t)}),(0,a.jsx)("div",{className:"contentSecondary",children:e})]})};return(0,a.jsxs)("div",{className:l().statsSection,children:[(0,a.jsx)("div",{className:l().topLine}),(0,a.jsxs)("div",{className:l().statsWrapper,children:[d("Open",i),d("High",Math.max(n,o)),d("Low",Math.min(c,o)),d("Close",s)]})]})},b=r(66241),S=r(86555),B=r(49959),N=r(42484),_=r(35409),U=r(53498),w=r(69878),C=r(40553),I=r(75544),P=function(e){var t=(0,i.useRef)(null),r=(0,i.useState)((0,b.Hk)(!0)),a=(0,B.Z)(),c=(0,n.I0)(),s=e.code,o=e.showMarketDepth,l=e.isMarketOpen,d=e.marketDepthToggleRef,$=e.onOutsideClick,p=e.isBse,u=e.isCompact,v=e.segment,m=e.onFifthLevelBuyPriceChange,f=e.onFifthLevelSellPriceChange;(0,C.u)(function(){u&&$&&$()},t,null!=d?d:t);var y=(0,n.v9)(function(t){return(0,U.Xs)()(t,e)}),k=(0,n.v9)(function(t){return(0,U.NU)()(t,e)}),g=(0,n.v9)(function(t){return(0,N.Jt)()(t,e)}),D=v===w.jd.FNO?g:k,x=v===w.jd.FNO?w.GV.FO_BOOK:w.GV.BOOK,j=null!=D?D:{},P=j.bidQty,L=j.offerQty,M=j.totalBuyQty,E=j.totalSellQty;return(0,i.useEffect)(function(){if(s&&a){if((0,h.a)(y)){var t=p?w.CP.BSE:w.CP.NSE;c((0,_.getMarketDepth)(s,t,v))}S.Z.subscribeToStockSymbol(s,x,e.updateMarketDepth)}},[s,a]),(0,i.useEffect)(function(){u&&m&&m((0,I.S)(y.buyBook))},[y.buyBook]),(0,i.useEffect)(function(){u&&f&&f((0,I.S)(y.sellBook))},[y.sellBook]),{toRenderNull:!l||!D||!y||!o||!r||!(null!=P?P:M)&&!(null!=L?L:E),ref:t,marketDepth:y,marketPrice:D}},L=function(e){var t=e.isCompact,r=e.code,i=e.isBse,n=e.onClickPrice,c=e.showOhlc,s=e.wrapperStyle,o=e.showHeader,l=e.isChartsRender,$=void 0!==l&&l,p=P(e),u=p.ref,h=p.toRenderNull,v=p.marketDepth,m=p.marketPrice;return h?null:(0,a.jsx)("section",{style:null!=s?s:y,ref:u,children:(0,a.jsxs)("div",{id:"stkLASection",children:[(void 0===o||o)&&(0,a.jsx)("h2",{className:"componentsMainHeading contentPrimary "+(t?" left-align bodyXLargeHeavy":" headingLarge"),children:"Market Depth"}),(0,a.jsx)(d,{code:r,isCompact:t,isChartsRender:$,isBse:i,marketPrice:m}),(0,a.jsx)(x,{code:r,isChartsRender:$,isCompact:t,marketDepth:v,marketPrice:m,onClickPrice:n}),t&&(void 0===c||c)&&(0,a.jsx)(j,{marketPrice:m})]})})},M=(0,n.$j)(null,{updateMarketDepth:c.w})(L)},40553:function(e,t,r){"use strict";r.d(t,{u:function(){return i}});var a=r(52406);function i(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var n=function(t){var a=!0,i=!0,n=!1,c=void 0;try{for(var s,o=r[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var l,d=s.value;if(null==d?void 0:null===(l=d.current)||void 0===l?void 0:l.contains(t.target)){a=!1;break}}}catch($){n=!0,c=$}finally{try{i||null==o.return||o.return()}finally{if(n)throw c}}a&&e()};(0,a.useEffect)(function(){return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},r)}},40001:function(e){e.exports={marketDepthWrapper:"marketDepthUI_marketDepthWrapper__rPq6r",marketDepthCompactWrapper:"marketDepthUI_marketDepthCompactWrapper__mjNQL",compactLeftDiv:"marketDepthUI_compactLeftDiv__Yr5_w",leftDiv:"marketDepthUI_leftDiv__3XSD7",compactRightDiv:"marketDepthUI_compactRightDiv__rE5ES",rightDiv:"marketDepthUI_rightDiv__cvqsc",sideHeadingDiv:"marketDepthUI_sideHeadingDiv__Q54fF",compactDepthUnit:"marketDepthUI_compactDepthUnit__JPFdJ",depthUnit:"marketDepthUI_depthUnit__ejzBv",qtyWrapper:"marketDepthUI_qtyWrapper__mqizf",qtydiv:"marketDepthUI_qtydiv__MFvhf",compactBarSpacing:"marketDepthUI_compactBarSpacing__Y5VlO",barSpacing:"marketDepthUI_barSpacing__Roc1J",positionBar:"marketDepthUI_positionBar__1K4E5",compactPositionBar:"marketDepthUI_compactPositionBar__lI9oy",filledBar:"marketDepthUI_filledBar__AAPps",progressBar:"marketDepthUI_progressBar__JHih2",curUline:"marketDepthUI_curUline__eL8xM",compactSideHeadDiv:"marketDepthUI_compactSideHeadDiv__dmazn",statsSection:"marketDepthUI_statsSection__GWMtf",statsWrapper:"marketDepthUI_statsWrapper__83Y3e",statsUnit:"marketDepthUI_statsUnit__SUfMK",topLine:"marketDepthUI_topLine__b_MRd"}}}]);